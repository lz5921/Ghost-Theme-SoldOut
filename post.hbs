{{!< default}}

{{!-- The tag above means: insert everything in this file
into the {body} of the default.hbs template --}}

{{#post}}
<main class="ha__main">
  {{#if feature_image}}
    <section class="ha__main-hero ha__main-hero-article d-flex justify-content-center align-items-center">
      {{> header-background background=feature_image}} {{!--Special header-background.hbs partial to generate the background image--}}
    </section>
  {{/if}}
  <section class="ha__main-article">
    <div class="container">
      <h3 class="ha__main-article-title mt-5 text-center">
        {{title}}
      </h3>
      <div class="ha__main-article-description mt-3 text-center">
        {{#if primary_author}}<span class="meta meta-title">{{#primary_author}}{{name}}{{/primary_author}}</span>{{/if}}
        <span class="meta-cut">•</span>
        <time class="meta-title title-date-time" datetime="{{date format="YYYY-MM-DD"}}">{{date format="YYYY年MM月DD日"}}</time>
        <span class="meta-cut">•</span>
        {{#if primary_tag}}<span class="meta meta-tag">{{#primary_tag}}{{name}}{{/primary_tag}}</span>{{/if}}
        <span class="meta-cut">•</span>
        <span id="{{url}}" class="meta meta-read" data-flag-title="{{title}}">阅读量 <a class="leancloud-visitors-count"></a></span>
      </div>
      <div class="ha__main-article-main my-5">
        <article class="ha__main-article-content">{{content}}</article>
      </div>
    </div>
  </section>
  <div class="ha__main-divider">
    <div class="meow">喵~</div>
  </div>
  {{!-- Everything inside the #author tags pulls data from the author --}}
  {{#primary_author}}
    <div class="container">
      <section class="ha__main-author d-flex flex-row align-items-center">
        <div class="ha__main-author-picture">
          <a href="{{url}}">
            {{#if profile_image}}
              <img src="{{img_url profile_image size="xs"}}" class="author-image rounded-circle" alt="{{name}}">
            {{else}}
              <img src="//cn.gravatar.com/avatar/ca4628a0863a739cb67a355ea4c567a3?s=250&amp;d=mm&amp;r=x" class="author-image rounded-circle" alt="{{name}}">
            {{/if}}
          </a>
        </div>
        <div class="ha__main-author-content">
          <div class="author-name">{{name}}</div>
          {{#if bio}}
            <div class="author-description">{{bio}}</div>
          {{else}}
            <div class="author-description">阅读此作者的<a href="{{url}}">更多文章</a></div>
          {{/if}}
        </div>
      </section>
    </div>
  {{/primary_author}}
  <div class="container">
    <section class="ha__main-read-more ha__main-post-list">
      <div class="ha__main-post-list-row row justify-content-center my-5">
        {{!-- If there's a next post, display it using the same markup included from - partials/post-card.hbs --}}
        {{#next_post}}
          {{> "post-card"}}
        {{/next_post}}
        {{!-- If there's a previous post, display it using the same markup included from - partials/post-card.hbs --}}
        {{#prev_post}}
          {{> "post-card"}}
        {{/prev_post}}
      </div>
    </section>
  </div>
  <div class="ha__main-to-top d-flex justify-content-center align-items-center flex-column shadow animated">
    <i class="fas fa-chevron-up to-top-icon"></i>
    <svg class="reading-progress-svg" aria-hidden="true" viewBox="0 0 50 50">
      <circle class="reading-progress-circle"
              fill="transparent"
              r="23.5"
              stroke-width="3"
              cx="25"
              cy="25"
      >
      </circle>
    </svg>
  </div>
</main>
{{/post}}
